 * Create servo state machine that sequences things on in a reliable order
 * Create a command to exit the control state machine back to stopped
 * Figure out why gbx 3 is stiffer than 2 by a lot
 * Figure out if gbx2 inner ring actually slipped... affix it better

 * Try to get more transient current than 35A through the motor
 * Need to be able to accurately report current plot during jump event
   w/ at least ms resolution
 * Measure thermal performance in jumping loads
 * Make a more permanent jumping fixture, including with a better
   linear rail
 * Measure how weight affects the jump time

 * Fix gearbox v3 errata (possibly just do an assembly that could work
   on a mech, so enclosed controller)

 * Closed loop control full trajectory during jump
   * Might need another STM32, could be a prototype for a joint
     controller

 * Leg needs to be stiffer laterally
 * Leg needs a way to assemble that doesn't have bolts sticking far out
 * Leg needs more clearance from front plate of servo

 * Actually tune current control loop to measure BW

 * current sampling is jittering again (but by a smaller amount),
   figure out why
 * Figure out how to get velocity from AS5047 quadrature inputs
 * Get AS5047 SPI sampling to be faster

 * Get python telemetry stuff into moteus/mjlib
 * Get tview into moteus/mjlib repository

 * Figure out a way to enclose the control board for actual mounting

 * automatically advance position for velocity
 * Report firmware version over serial protocol
 * Implement auto-theta/phase calibrate
 * Turn on -Wdouble-promotion for STM32 builds
 * Figure out why -O2 and -O3 start linking in assert
 * Measure temperature at different loads
 * Implement software over-voltage fault
 * Test undervoltage response
 * Test over-current response


Code cleanup
 * Make StaticFunction not so expensive to call
 * Try to figure out a way so that we can actually bind callbacks without
   having to shrink all over the place?

Absolute position board
  * 8x DRV5053 hall effect sensors
  * 1 AVR
  * two magnets in planet carrier 1, configured with opposite polarities
  * I2C slave

Weigh all the gearbox components

Do mechanics to figure out what torque is necessary to jump given
linkage

# Master Plan #
 * Rev shapeways box with slightly different tolerances
 * get 2dof leg jumping
 * Get one more shapeways set
 * get 3dof leg jumping

 * design custom gears, get prototyping run sufficient to build one mammal plus spares


DONE 2018-12-01
 * First jump!

DONE 2018-11-30
 * Got 485 serial based transport and tview working
 * Built second motor and controller

DONE 2018-11-23
 * unwrapped encoder position

DONE 2018-11-22
 * Reported out D/Q currents
 * Got D/Q current control working

DONE 2018-11-21
 * Got phase currents to be metricly correct
 * Configured DRV8323
 * Implemented AS5047 interface
 * Glued inner ring into gearbox
 * Put at least *some* grease in gearbox, unclear if it is sufficient
 * At 10A phase current, got about 0.8N*m of torque out

DONE 2018-11-20
 * Wrote board bringup class
 * Functions tested
   * LEDs
   * AS5047 position
   * Debug serial
   * DRV8323 SPI
   * DRV8323 flag lines
   * RS485 out
 * DRV8323 class
 * First power through the motor!


DONE 2018-11-19
 * Got all infrastructure pieces ported to bazel
 * Got tview working!
 * Powered up and programmed board for the first time!
 * Built test harnesses for board

DONE 2018-11-17
 * Got rules_mbed working in target and host mode
 * Drafted blog post

DONE 2018-11-11
 * Built leg jumping fixture
 * First version of bazel mbed rules complete

DONE 2018-11-08
 * Got CommandManager working

DONE 2018-11-07
 * Ordered legs on 3dhubs
 * Ordered ZH connectors

DONE 2018-11-06
 * Mostly designed leg
 * Ordered carriage rail and rs485 adapter from amazon

DONE 2018-11-05
 * Updated gearbox dimensions for r3
 * Ordered r3 of gearbox from shapeways
 * Started work on leg
 * Ordered angular contact bearings for leg

DONE 2018-11-04
 * Got down to 20 unique parts
 * Reviewed STM32 and DRV8323 design notes
 * Iterated on MF quoting to fix other minor layout and silk problems
 * Ordered r1 of controller from macrofab

DONE 2018-11-03
 * Verified PWM and ADC channels work on nucleo
 * annotated all MPNs

DONE 2018-11-02
 * Controller board
   * Board outline drawn
   * All parts fit within outline
   * Power routed
   * Silks resized and rough placed
   * power copper on bottom for heat transfer
   * title / version silk
   * labels for connector pins
   * verified PWM works on TIM2 (ADC not yet verified)

DONE 2018-11-01
 * Controller board
   * All major parts in schematic

DONE 2018-10-26
 * Got DMA based UART transmit working
 * Got DMA based UART receive working

DONE 2018-10-24
 * Finished updating gearbox with errata and bearing fit sizes
 * Ordered r2 of gearbox from shapeways

DONE 2018-10-20
 * Mounted gearbox to test plate
 * Mounted delrin plate to output shaft
 * Moderately hurt my finger when the VESC position mode control went bonkers
 * Measured torque at 1.5kg at 19cm, so 28.5kgf * cm, or 2.79 N*m,
   current on lab supply got up to 13A at 12V and motor got *very* hot
 * Ordered shapeways dimensional tests for each press fit interface
 * Ordered 2x of all necessary gears at sdp-si
 * Ordered 2x of all necessary gears at vxb.com


DONE 2018-10-19
 * Received AS5047 breakout, verified that it works with a bus pirate
 * Got AS5047 reading from the VESC
 * Wrote DMA based uart, untested on HW so far
 * assembled gearbox, with much dremeling

DONE 2018-10-17
 * Wrote string_span and string_view
 * Got some kind of test coverage, although apparently can't do host
   based unit test coverage with mbed
 * Wrote async_stream

DONE 2018-10-16
 * Received flat head screws for gearbox-3508 mount

DONE 2018-10-12
 * made flats on shaft
 * assembled shaft into 3508 with sdp-si spur gear
 * Modeled 3508 motor in freecad
 * Designed sensor mount
 * Ordered sensor mount from shapeways
 * Wired and powered up new VESC
 * Fixed ubuntu arm newlib so I can build firmware images

DONE 2018-10-11
 * Redrew planetary output stage with master sketch
 * Redrew 1st housing with master sketch for outside perimeter
 * Add lips to planet carriers to contact bearing sides
 * Design housing clamping mechanism
 * Design mount to stick two together in a leg
 * Design control board mount
 * Design magnetometer board mount
 * Ordered gearbox from shapeways
 * Order grease for gearbox
 * Ordered input and output bearings

DONE 2018-10-10
 * SDP-SI shaft fits in motor bearing
 * Test fit SDP-SI gear assembly

DONE 2018-10-09
 * Ordered micrometer
 * Ordered SDP-SI gearset

DONE 2018-10-01
 * Ordered gear design book

DONE 2018-09-30
 * Ordered VESC v6 w/ SPI connector
 * Ordered AS5047 breakout
 * Built jig to pull motors, tested extracting a shaft from the 4112
   motor
 * Pulled shaft from 3508
 * Ordered more 3508s
 * Ordered 4mm shaft for 3508

DONE 2018-09-27
 * Get VESC to drive the 3508
 * Get VESC FOC mode to work in sensorless configuration

DONE 2018-09-26
 * Mounted the 3508 motors for unloaded test stand operation
 * Build cables to attach smaller motors to VESC


DONE 2018-09-24
 * Build permanent cable from power supply to VESC
