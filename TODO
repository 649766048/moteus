Write controller board SW
 * Switch from TIM1 to TIM8
 * Get basic current sampling and PWM structure working
   * Sample from SPI
   * Get velocity from SPI or ABI encoder outputs
 * Design serial 485 frame protocol

Design controller board
 * TODO
   * rs485 con
    * 3 pin JST - gnd a b
   * absolute sens con
    * 4 pin JST - 3.3v gnd i2c
   * motor temp con
    * 2 pin JST - thermistor connection
   * verify pin ordering of programming connector
   * position parts
   * mounting holes
   * power planes
   * power routing
   * signal routing
 * STM32F446
 * DRV8323RS (includes buck regulator and SPI interface)
   * buck inductor
     * MF 22uF
   * buck output cap
     * MF 10uF
   * buck input cap
     * MF
   * motor input caps
     * TDK C3216X5R1V156M160AC
 * 485 transceiver - MAX13431E
 * FETs - Toshiba TPN1R603PL
 * Current Shunt
   * Stackpole Electronics Inc. HCS1206FT1L00 1mOhm 2W
 * Connectors
   * power in
     * just plated holes
   * BLDC out
     * just plated holes
   * as5047p (25krpm or as5047d only 14krpm) sensor
   * rs485
   * swd programming port
     * JST-6 pin
   * usb
     * micro-usb
   * motor temperature sensor
   * motor output absolute encoder / position sensor

Validate r2 of gearbox
  * Order 2x more if it works well

Absolute position board
  * 8x DRV5053 hall effect sensors
  * 1 AVR
  * two magnets in planet carrier 1, configured with opposite polarities
  * I2C slave

Design leg

Weigh all the gearbox components

Do mechanics to figure out what torque is necessary to jump given
linkage



# Master Plan #
 * Build another single shapeways gearbox
 * If that works well enough, build 2 more 3d printed gearboxes
 * get 2dof leg jumping
 * get 3dof leg jumping

 * design custom gears, get prototyping run sufficient to build one mammal plus spares


DONE 2018-10-26
 * Got DMA based UART transmit working
 * Got DMA based UART receive working

DONE 2018-10-24
 * Finished updating gearbox with errata and bearing fit sizes
 * Ordered r2 of gearbox from shapeways

DONE 2018-10-20
 * Mounted gearbox to test plate
 * Mounted delrin plate to output shaft
 * Moderately hurt my finger when the VESC position mode control went bonkers
 * Measured torque at 1.5kg at 19cm, so 28.5kgf * cm, or 2.79 N*m,
   current on lab supply got up to 13A at 12V and motor got *very* hot
 * Ordered shapeways dimensional tests for each press fit interface
 * Ordered 2x of all necessary gears at sdp-si
 * Ordered 2x of all necessary gears at vxb.com


DONE 2018-10-19
 * Received AS5047 breakout, verified that it works with a bus pirate
 * Got AS5047 reading from the VESC
 * Wrote DMA based uart, untested on HW so far
 * assembled gearbox, with much dremeling

DONE 2018-10-17
 * Wrote string_span and string_view
 * Got some kind of test coverage, although apparently can't do host
   based unit test coverage with mbed
 * Wrote async_stream

DONE 2018-10-16
 * Received flat head screws for gearbox-3508 mount

DONE 2018-10-12
 * made flats on shaft
 * assembled shaft into 3508 with sdp-si spur gear
 * Modeled 3508 motor in freecad
 * Designed sensor mount
 * Ordered sensor mount from shapeways
 * Wired and powered up new VESC
 * Fixed ubuntu arm newlib so I can build firmware images

DONE 2018-10-11
 * Redrew planetary output stage with master sketch
 * Redrew 1st housing with master sketch for outside perimeter
 * Add lips to planet carriers to contact bearing sides
 * Design housing clamping mechanism
 * Design mount to stick two together in a leg
 * Design control board mount
 * Design magnetometer board mount
 * Ordered gearbox from shapeways
 * Order grease for gearbox
 * Ordered input and output bearings

DONE 2018-10-10
 * SDP-SI shaft fits in motor bearing
 * Test fit SDP-SI gear assembly

DONE 2018-10-09
 * Ordered micrometer
 * Ordered SDP-SI gearset

DONE 2018-10-01
 * Ordered gear design book

DONE 2018-09-30
 * Ordered VESC v6 w/ SPI connector
 * Ordered AS5047 breakout
 * Built jig to pull motors, tested extracting a shaft from the 4112
   motor
 * Pulled shaft from 3508
 * Ordered more 3508s
 * Ordered 4mm shaft for 3508

DONE 2018-09-27
 * Get VESC to drive the 3508
 * Get VESC FOC mode to work in sensorless configuration

DONE 2018-09-26
 * Mounted the 3508 motors for unloaded test stand operation
 * Build cables to attach smaller motors to VESC


DONE 2018-09-24

 * Build permanent cable from power supply to VESC
